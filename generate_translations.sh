#!/bin/bash
# Called by make all and generated by ChatGPT
SCRIPT_PATH="$(dirname "$0")"
SCRIPT_PATH="$(cd "$SCRIPT_PATH" && pwd)"

# Define the output directory and domain
LOCALE_DIR="$SCRIPT_PATH/locale"
DOMAIN=$(grep '"uuid":' $SCRIPT_PATH/metadata.json | sed -E 's/.*"uuid": "([^"]+)".*/\1/')

if [ -d "$LOCALE_DIR" ]; then
	rm -Rf "$LOCALE_DIR"
fi

declare -A page_of=(
  ["en"]="%x of %y"
  ["ar"]="%x من %y"
  ["ca"]="%x de %y"
  ["cs"]="%x z %y"
  ["de"]="%x von %y"
  ["el"]="%x από %y"
  ["es"]="%x de %y"
  ["eu"]="%x tik %y"
  ["fa"]="%x از %y"
  ["fi"]="%x / %y"
  ["fr"]="%x sur %y"
  ["hu"]="%x az %y"
  ["it"]="%x di %y"
  ["ja"]="%y 中の %x"
  ["nl"]="%x van %y"
  ["oc"]="%x de %y"
  ["pl"]="%x z %y"
  ["pt_BR"]="%x de %y"
  ["ru"]="%x из %y"
  ["sk"]="%x z %y"
  ["tr"]="%x / %y"
  ["uk"]="%x з %y"
  ["zh_CN"]="第 %x，共 %y"
)

declare -A window_width_percentage=(
  ["en"]="Window width (%)"
  ["ar"]="عرض النافذة (%)"
  ["ca"]="Amplada de la finestra (%)"
  ["cs"]="Šířka okna (%)"
  ["de"]="Fensterbreite (%)"
  ["el"]="Πλάτος παραθύρου (%)"
  ["es"]="Ancho de ventana (%)"
  ["eu"]="Leihoaren zabalera (%)"
  ["fa"]="عرض پنجره (%)"
  ["fi"]="Ikkunan leveys (%)"
  ["fr"]="Largeur de la fenêtre (%)"
  ["hu"]="Ablak szélessége (%)"
  ["it"]="Larghezza finestra (%)"
  ["ja"]="ウィンドウの幅 (%)"
  ["nl"]="Vensterbreedte (%)"
  ["oc"]="Largor de la fenèstra (%)"
  ["pl"]="Szerokość okna (%)"
  ["pt_BR"]="Largura da janela (%)"
  ["ru"]="Ширина окна (%)"
  ["sk"]="Šírka okna (%)"
  ["tr"]="Pencere genişliği (%)"
  ["uk"]="Ширина вікна (%)"
  ["zh_CN"]="窗口宽度 (%)"
)

# Define translations for each string
declare -A private_mode=(
  ["en"]="Private mode"
  ["ar"]="وضع خاص"
  ["ca"]="Mode privat"
  ["cs"]="Soukromý režim"
  ["de"]="Privater Modus"
  ["el"]="Ιδιωτική λειτουργία"
  ["es"]="Modo privado"
  ["eu"]="Modu pribatua"
  ["fa"]="حالت خصوصی"
  ["fi"]="Yksityinen tila"
  ["fr"]="Mode privé"
  ["hu"]="Privát mód"
  ["it"]="Modalità privata"
  ["ja"]="プライベートモード"
  ["nl"]="Privémodus"
  ["oc"]="Mòde privat"
  ["pl"]="Tryb prywatny"
  ["pt_BR"]="Modo privado"
  ["ru"]="Приватный режим"
  ["sk"]="Súkromný režim"
  ["tr"]="Gizli mod"
  ["uk"]="Приватний режим"
  ["zh_CN"]="私人模式"
)

declare -A clear_all_recent_items=(
  ["en"]="Clear all recent items"
  ["ar"]="مسح جميع العناصر الأخيرة"
  ["ca"]="Esborra tots els elements recents"
  ["cs"]="Vymazat všechny poslední položky"
  ["de"]="Alle letzten Elemente löschen"
  ["el"]="Καθαρίστε όλα τα πρόσφατα στοιχεία"
  ["es"]="Borrar todos los elementos recientes"
  ["eu"]="Ezabatu azken elementu guztiak"
  ["fa"]="حذف همه موارد اخیر"
  ["fi"]="Tyhjennä kaikki viimeisimmät kohteet"
  ["fr"]="Effacer tous les éléments récents"
  ["hu"]="Minden legutóbbi elem törlése"
  ["it"]="Cancella tutti gli elementi recenti"
  ["ja"]="すべての最近のアイテムをクリア"
  ["nl"]="Verwijder alle recente items"
  ["oc"]="Escafar totes las elements recents"
  ["pl"]="Usuń wszystkie ostatnie elementy"
  ["pt_BR"]="Limpar todos os itens recentes"
  ["ru"]="Очистить все последние элементы"
  ["sk"]="Vymazať všetky posledné položky"
  ["tr"]="Tüm son öğeleri temizle"
  ["uk"]="Очистити всі останні елементи"
  ["zh_CN"]="清除所有最近的项目"
)

declare -A recent_item_settings=(
  ["en"]="Recent Item Settings"
  ["ar"]="إعدادات العناصر الأخيرة"
  ["ca"]="Configuració d'elements recents"
  ["cs"]="Nastavení posledních položek"
  ["de"]="Einstellungen für letzte Elemente"
  ["el"]="Ρυθμίσεις πρόσφατων στοιχείων"
  ["es"]="Configuración de elementos recientes"
  ["eu"]="Azken elementuen ezarpenak"
  ["fa"]="تنظیمات موارد اخیر"
  ["fi"]="Viimeisimpien kohteiden asetukset"
  ["fr"]="Paramètres des éléments récents"
  ["hu"]="Legutóbbi elemek beállításai"
  ["it"]="Impostazioni degli elementi recenti"
  ["ja"]="最近のアイテム設定"
  ["nl"]="Instellingen voor recente items"
  ["oc"]="Paramètres dels elements recents"
  ["pl"]="Ustawienia ostatnich elementów"
  ["pt_BR"]="Configurações de itens recentes"
  ["ru"]="Настройки последних элементов"
  ["sk"]="Nastavenia posledných položiek"
  ["tr"]="Son öğe ayarları"
  ["uk"]="Налаштування останніх елементів"
  ["zh_CN"]="最近项目设置"
)

declare -A settings=(
  ["en"]="Settings"
  ["ar"]="الإعدادات"
  ["ca"]="Configuració"
  ["cs"]="Nastavení"
  ["de"]="Einstellungen"
  ["el"]="Ρυθμίσεις"
  ["es"]="Configuración"
  ["eu"]="Ezarpenak"
  ["fa"]="تنظیمات"
  ["fi"]="Asetukset"
  ["fr"]="Paramètres"
  ["hu"]="Beállítások"
  ["it"]="Impostazioni"
  ["ja"]="設定"
  ["nl"]="Instellingen"
  ["oc"]="Paramètres"
  ["pl"]="Ustawienia"
  ["pt_BR"]="Configurações"
  ["ru"]="Настройки"
  ["sk"]="Nastavenia"
  ["tr"]="Ayarlar"
  ["uk"]="Налаштування"
  ["zh_CN"]="设置"
)

declare -A blacklist=(
  ["en"]="Comma separated Extension and MIME Blacklist"
  ["ar"]="قائمة سوداء للامتدادات وأنواع MIME مفصولة بفواصل"
  ["ca"]="Llista negra d'extensió i MIME separada per comes"
  ["cs"]="Čárkami oddělená černá listina přípon a MIME"
  ["de"]="Komma-getrennte Dateiendungs- und MIME-Blacklist"
  ["el"]="Λίστα αποκλεισμού επεκτάσεων και MIME, διαχωρισμένη με κόμμα"
  ["es"]="Lista negra de extensiones y MIME, separada por comas"
  ["eu"]="Komaz bereiztuta: fitxategi luzapena eta MIME beltzaren zerrenda"
  ["fa"]="لیست سیاه پسوندها و MIME، با کاما جدا شده"
  ["fi"]="Pilkuilla eroteltu tiedostopäätteiden ja MIME-lista"
  ["fr"]="Liste noire d'extensions et de MIME, séparée par des virgules"
  ["hu"]="Vesszővel elválasztott fájlkiterjesztés- és MIME-lista"
  ["it"]="Lista nera di estensioni e MIME, separata da virgole"
  ["ja"]="カンマ区切りの拡張子とMIMEのブラックリスト"
  ["nl"]="Komma-gescheiden extensie- en MIME-blacklist"
  ["oc"]="Lista negra d'extensions e MIME, separada per virgulas"
  ["pl"]="Czarna lista rozszerzeń i MIME, oddzielona przecinkami"
  ["pt_BR"]="Lista negra de extensões e MIME, separada por vírgulas"
  ["ru"]="Черный список расширений и MIME, разделенных запятыми"
  ["sk"]="Čierna listina prípon a MIME, oddelená čiarkami"
  ["tr"]="Virgülle ayrılmış uzantı ve MIME kara listesi"
  ["uk"]="Чорний список розширень і MIME, розділених комами"
  ["zh_CN"]="逗号分隔的扩展名和 MIME 黑名单"
)

declare -A example=(
  ["en"]="Example"
  ["ar"]="مثال"
  ["ca"]="Exemple"
  ["cs"]="Příklad"
  ["de"]="Beispiel"
  ["el"]="Παράδειγμα"
  ["es"]="Ejemplo"
  ["eu"]="Adibidea"
  ["fa"]="مثال"
  ["fi"]="Esimerkki"
  ["fr"]="Exemple  .bash_history,image,audio,vidéo"
  ["hu"]="Példa"
  ["it"]="Esempio"
  ["ja"]="例"
  ["nl"]="Voorbeeld"
  ["oc"]="Exemple"
  ["pl"]="Przykład"
  ["pt_BR"]="Exemplo"
  ["ru"]="Пример"
  ["sk"]="Príklad"
  ["tr"]="Örnek"
  ["uk"]="Приклад"
  ["zh_CN"]="例如"
)

declare -A item_count=(
  ["en"]="Item Count"
  ["ar"]="عدد العناصر"
  ["ca"]="Recompte d'elements"
  ["cs"]="Počet položek"
  ["de"]="Anzahl der Elemente"
  ["el"]="Αριθμός αντικειμένων"
  ["es"]="Recuento de elementos"
  ["eu"]="Elementu kopurua"
  ["fa"]="تعداد موارد"
  ["fi"]="Kohteiden lukumäärä"
  ["fr"]="Nombre d'éléments"
  ["hu"]="Elemek száma"
  ["it"]="Conteggio elementi"
  ["ja"]="アイテム数"
  ["nl"]="Aantal items"
  ["oc"]="Nombre d'elements"
  ["pl"]="Liczba elementów"
  ["pt_BR"]="Contagem de itens"
  ["ru"]="Количество элементов"
  ["sk"]="Počet položiek"
  ["tr"]="Öğe Sayısı"
  ["uk"]="Кількість елементів"
  ["zh_CN"]="项目计数"
)

declare -A search=(
  ["en"]="Search..."
  ["ar"]="بحث..."
  ["ca"]="Cerca..."
  ["cs"]="Hledat..."
  ["de"]="Suchen..."
  ["el"]="Αναζήτηση..."
  ["es"]="Buscar..."
  ["eu"]="Bilatu..."
  ["fa"]="جستجو..."
  ["fi"]="Etsi..."
  ["fr"]="Rechercher..."
  ["hu"]="Keresés..."
  ["it"]="Cerca..."
  ["ja"]="検索..."
  ["nl"]="Zoeken..."
  ["oc"]="Cercar..."
  ["pl"]="Szukaj..."
  ["pt_BR"]="Pesquisar..."
  ["ru"]="Поиск..."
  ["sk"]="Hľadať..."
  ["tr"]="Ara..."
  ["uk"]="Пошук..."
  ["zh_CN"]="搜索..."
)

declare -A show_deleted_files=(
  ["en"]="Show deleted files"
  ["ar"]="عرض الملفات المحذوفة"
  ["ca"]="Mostra fitxers eliminats"
  ["cs"]="Zobrazit smazané soubory"
  ["de"]="Gelöschte Dateien anzeigen"
  ["el"]="Εμφάνιση διαγραμμένων αρχείων"
  ["es"]="Mostrar archivos eliminados"
  ["eu"]="Erakutsi ezabatu diren fitxategiak"
  ["fa"]="نمایش فایل‌های حذف شده"
  ["fi"]="Näytä poistetut tiedostot"
  ["fr"]="Afficher les fichiers supprimés"
  ["hu"]="Törölt fájlok megjelenítése"
  ["it"]="Mostra file eliminati"
  ["ja"]="削除されたファイルを表示"
  ["nl"]="Verwijderde bestanden weergeven"
  ["oc"]="Mostrar fichièrs eliminats"
  ["pl"]="Pokaż usunięte pliki"
  ["pt_BR"]="Mostrar arquivos excluídos"
  ["ru"]="Показать удалённые файлы"
  ["sk"]="Zobraziť vymazané súbory"
  ["tr"]="Silinmiş dosyaları göster"
  ["uk"]="Показати видалені файли"
  ["zh_CN"]="显示已删除的文件"
)

declare -A no_items_found=(
  ["en"]="No items found"
  ["ar"]="لم يتم العثور على عناصر"
  ["ca"]="No s'han trobat elements"
  ["cs"]="Nebyly nalezeny žádné položky"
  ["de"]="Keine Elemente gefunden"
  ["el"]="Δεν βρέθηκαν στοιχεία"
  ["es"]="No se encontraron elementos"
  ["eu"]="Ez da aurkitu elementurik"
  ["fa"]="هیچ موردی یافت نشد"
  ["fi"]="Ei kohteita löytynyt"
  ["fr"]="Aucun élément trouvé"
  ["hu"]="Nincs találat"
  ["it"]="Nessun elemento trovato"
  ["ja"]="アイテムが見つかりません"
  ["nl"]="Geen items gevonden"
  ["oc"]="Cap d'element trobat"
  ["pl"]="Nie znaleziono elementów"
  ["pt_BR"]="Nenhum item encontrado"
  ["ru"]="Элементы не найдены"
  ["sk"]="Neboli nájdené žiadne položky"
  ["tr"]="Hiçbir öğe bulunamadı"
  ["uk"]="Елементи не знайдено"
  ["zh_CN"]="未找到任何项目"
)

# Generate PO and MO files
mkdir -p "$LOCALE_DIR"
cd "$SCRIPT_PATH"

for lang in "ar" "ca" "cs" "de" "el" "es" "eu" "fa" "fi" "fr" "hu" "it" "ja" "nl" "oc" "pl" "pt_BR" "ru" "sk" "tr" "uk" "zh_CN"; do
  mkdir -p "$LOCALE_DIR/$lang/LC_MESSAGES"
  PO_FILE="$LOCALE_DIR/$lang/LC_MESSAGES/$DOMAIN.po"

  # Create PO file with translations
  echo "msgid \"\"" > "$PO_FILE"
  echo "msgstr \"\"" >> "$PO_FILE"
  echo "\"Content-Type: text/plain; charset=UTF-8\"" >> "$PO_FILE"
  for key in page_of show_deleted_files no_items_found window_width_percentage private_mode clear_all_recent_items recent_item_settings settings blacklist example search item_count; do
    declare -n translations=$key
    echo "" >> "$PO_FILE"
    echo "msgid \"${translations[en]}\"" >> "$PO_FILE"
    echo "msgstr \"${translations[$lang]}\"" >> "$PO_FILE"
  done
done
make update-pot
make update-po-files
